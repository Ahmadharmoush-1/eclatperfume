{
    "sourceFile": "src/components/cart/CartDrawer.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1766781739921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766782322120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,130 @@\n+import { useState } from 'react';\r\n+import { X, Plus, Minus, Trash2, ShoppingBag } from 'lucide-react';\r\n+import { useCart } from '@/contexts/CartContext';\r\n+import { Button } from '@/components/ui/button';\r\n+import CheckoutForm from './CheckoutForm';\r\n+\r\n+const CartDrawer = () => {\r\n+  const { items, isCartOpen, setIsCartOpen, updateQuantity, removeFromCart, totalPrice, totalItems } = useCart();\r\n+  const [showCheckout, setShowCheckout] = useState(false);\r\n+\r\n+  if (!isCartOpen) return null;\r\n+\r\n+  return (\r\n+    <>\r\n+      {/* Overlay */}\r\n+      <div\r\n+        className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\r\n+        onClick={() => setIsCartOpen(false)}\r\n+      />\r\n+\r\n+      {/* Drawer */}\r\n+      <div className=\"fixed right-0 top-0 h-full w-full sm:w-[420px] bg-card border-l border-border z-50 flex flex-col animate-slide-in-right\">\r\n+        {/* Header */}\r\n+        <div className=\"flex items-center justify-between p-4 border-b border-border\">\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <ShoppingBag className=\"h-5 w-5 text-gold\" />\r\n+            <h2 className=\"font-serif text-xl font-semibold\">Your Cart</h2>\r\n+            {totalItems > 0 && (\r\n+              <span className=\"bg-gold text-primary-foreground text-xs px-2 py-0.5 rounded-full\">\r\n+                {totalItems}\r\n+              </span>\r\n+            )}\r\n+          </div>\r\n+          <button\r\n+            onClick={() => setIsCartOpen(false)}\r\n+            className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n+          >\r\n+            <X className=\"h-5 w-5\" />\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Content */}\r\n+        <div className=\"flex-1 overflow-y-auto p-4\">\r\n+          {items.length === 0 ? (\r\n+            <div className=\"flex flex-col items-center justify-center h-full text-center py-12\">\r\n+              <ShoppingBag className=\"h-16 w-16 text-muted-foreground/30 mb-4\" />\r\n+              <p className=\"text-muted-foreground text-lg mb-2\">Your cart is empty</p>\r\n+              <p className=\"text-muted-foreground text-sm mb-6\">\r\n+                Discover our exclusive collection\r\n+              </p>\r\n+              <Button variant=\"goldOutline\" onClick={() => setIsCartOpen(false)}>\r\n+                Continue Shopping\r\n+              </Button>\r\n+            </div>\r\n+          ) : showCheckout ? (\r\n+            <CheckoutForm onBack={() => setShowCheckout(false)} />\r\n+          ) : (\r\n+            <div className=\"space-y-4\">\r\n+              {items.map((item) => (\r\n+                <div\r\n+                  key={item.id}\r\n+                  className=\"glass-card rounded-lg p-4 flex gap-4\"\r\n+                >\r\n+                  <div className=\"h-20 w-20 bg-muted rounded-lg overflow-hidden flex-shrink-0\">\r\n+                    <img\r\n+                      src={item.image}\r\n+                      alt={item.name}\r\n+                      loading=\"lazy\"\r\n+                      decoding=\"async\"\r\n+                      className=\"h-full w-full object-cover\"\r\n+                    />\r\n+                  </div>\r\n+                  <div className=\"flex-1 min-w-0\">\r\n+                    <h3 className=\"font-serif font-medium text-foreground truncate\">\r\n+                      {item.name}\r\n+                    </h3>\r\n+                    <p className=\"text-gold font-semibold\">${item.price}</p>\r\n+                    <div className=\"flex items-center gap-2 mt-2\">\r\n+                      <button\r\n+                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n+                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n+                      >\r\n+                        <Minus className=\"h-3 w-3\" />\r\n+                      </button>\r\n+                      <span className=\"w-8 text-center font-medium\">\r\n+                        {item.quantity}\r\n+                      </span>\r\n+                      <button\r\n+                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n+                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n+                      >\r\n+                        <Plus className=\"h-3 w-3\" />\r\n+                      </button>\r\n+                      <button\r\n+                        onClick={() => removeFromCart(item.id)}\r\n+                        className=\"ml-auto p-2 text-muted-foreground hover:text-destructive transition-colors\"\r\n+                      >\r\n+                        <Trash2 className=\"h-4 w-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              ))}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Footer */}\r\n+        {items.length > 0 && !showCheckout && (\r\n+          <div className=\"border-t border-border p-4 space-y-4\">\r\n+            <div className=\"flex items-center justify-between text-lg\">\r\n+              <span className=\"text-muted-foreground\">Total</span>\r\n+              <span className=\"font-serif font-bold text-gold\">${totalPrice}</span>\r\n+            </div>\r\n+            <Button\r\n+              variant=\"secondary\"\r\n+              size=\"lg\"\r\n+              className=\"w-full\"\r\n+              onClick={() => setShowCheckout(true)}\r\n+            >\r\n+              Proceed to Checkout\r\n+            </Button>\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </>\r\n+  );\r\n+};\r\n+\r\n+export default CartDrawer;\r\n"
                },
                {
                    "date": 1766782330483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,130 @@\n+import { useState } from 'react';\r\n+import { X, Plus, Minus, Trash2, ShoppingBag } from 'lucide-react';\r\n+import { useCart } from '@/contexts/CartContext';\r\n+import { Button } from '@/components/ui/button';\r\n+import CheckoutForm from './CheckoutForm';\r\n+\r\n+const CartDrawer = () => {\r\n+  const { items, isCartOpen, setIsCartOpen, updateQuantity, removeFromCart, totalPrice, totalItems } = useCart();\r\n+  const [showCheckout, setShowCheckout] = useState(false);\r\n+\r\n+  if (!isCartOpen) return null;\r\n+\r\n+  return (\r\n+    <>\r\n+      {/* Overlay */}\r\n+      <div\r\n+        className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\r\n+        onClick={() => setIsCartOpen(false)}\r\n+      />\r\n+\r\n+      {/* Drawer */}\r\n+      <div className=\"fixed right-0 top-0 h-full w-full sm:w-[420px] bg-card border-l border-border z-50 flex flex-col animate-slide-in-right\">\r\n+        {/* Header */}\r\n+        <div className=\"flex items-center justify-between p-4 border-b border-border\">\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <ShoppingBag className=\"h-5 w-5 text-gold\" />\r\n+            <h2 className=\"font-serif text-xl font-semibold\">Your Cart</h2>\r\n+            {totalItems > 0 && (\r\n+              <span className=\"bg-gold text-primary-foreground text-xs px-2 py-0.5 rounded-full\">\r\n+                {totalItems}\r\n+              </span>\r\n+            )}\r\n+          </div>\r\n+          <button\r\n+            onClick={() => setIsCartOpen(false)}\r\n+            className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n+          >\r\n+            <X className=\"h-5 w-5\" />\r\n+          </button>\r\n+        </div>\r\n+\r\n+        {/* Content */}\r\n+        <div className=\"flex-1 overflow-y-auto p-4\">\r\n+          {items.length === 0 ? (\r\n+            <div className=\"flex flex-col items-center justify-center h-full text-center py-12\">\r\n+              <ShoppingBag className=\"h-16 w-16 text-muted-foreground/30 mb-4\" />\r\n+              <p className=\"text-muted-foreground text-lg mb-2\">Your cart is empty</p>\r\n+              <p className=\"text-muted-foreground text-sm mb-6\">\r\n+                Discover our exclusive collection\r\n+              </p>\r\n+              <Button variant=\"secondary\" onClick={() => setIsCartOpen(false)}>\r\n+                Continue Shopping\r\n+              </Button>\r\n+            </div>\r\n+          ) : showCheckout ? (\r\n+            <CheckoutForm onBack={() => setShowCheckout(false)} />\r\n+          ) : (\r\n+            <div className=\"space-y-4\">\r\n+              {items.map((item) => (\r\n+                <div\r\n+                  key={item.id}\r\n+                  className=\"glass-card rounded-lg p-4 flex gap-4\"\r\n+                >\r\n+                  <div className=\"h-20 w-20 bg-muted rounded-lg overflow-hidden flex-shrink-0\">\r\n+                    <img\r\n+                      src={item.image}\r\n+                      alt={item.name}\r\n+                      loading=\"lazy\"\r\n+                      decoding=\"async\"\r\n+                      className=\"h-full w-full object-cover\"\r\n+                    />\r\n+                  </div>\r\n+                  <div className=\"flex-1 min-w-0\">\r\n+                    <h3 className=\"font-serif font-medium text-foreground truncate\">\r\n+                      {item.name}\r\n+                    </h3>\r\n+                    <p className=\"text-gold font-semibold\">${item.price}</p>\r\n+                    <div className=\"flex items-center gap-2 mt-2\">\r\n+                      <button\r\n+                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n+                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n+                      >\r\n+                        <Minus className=\"h-3 w-3\" />\r\n+                      </button>\r\n+                      <span className=\"w-8 text-center font-medium\">\r\n+                        {item.quantity}\r\n+                      </span>\r\n+                      <button\r\n+                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n+                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n+                      >\r\n+                        <Plus className=\"h-3 w-3\" />\r\n+                      </button>\r\n+                      <button\r\n+                        onClick={() => removeFromCart(item.id)}\r\n+                        className=\"ml-auto p-2 text-muted-foreground hover:text-destructive transition-colors\"\r\n+                      >\r\n+                        <Trash2 className=\"h-4 w-4\" />\r\n+                      </button>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              ))}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Footer */}\r\n+        {items.length > 0 && !showCheckout && (\r\n+          <div className=\"border-t border-border p-4 space-y-4\">\r\n+            <div className=\"flex items-center justify-between text-lg\">\r\n+              <span className=\"text-muted-foreground\">Total</span>\r\n+              <span className=\"font-serif font-bold text-gold\">${totalPrice}</span>\r\n+            </div>\r\n+            <Button\r\n+              variant=\"secondary\"\r\n+              size=\"lg\"\r\n+              className=\"w-full\"\r\n+              onClick={() => setShowCheckout(true)}\r\n+            >\r\n+              Proceed to Checkout\r\n+            </Button>\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </>\r\n+  );\r\n+};\r\n+\r\n+export default CartDrawer;\r\n"
                }
            ],
            "date": 1766781739921,
            "name": "Commit-0",
            "content": "import { useState } from 'react';\r\nimport { X, Plus, Minus, Trash2, ShoppingBag } from 'lucide-react';\r\nimport { useCart } from '@/contexts/CartContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport CheckoutForm from './CheckoutForm';\r\n\r\nconst CartDrawer = () => {\r\n  const { items, isCartOpen, setIsCartOpen, updateQuantity, removeFromCart, totalPrice, totalItems } = useCart();\r\n  const [showCheckout, setShowCheckout] = useState(false);\r\n\r\n  if (!isCartOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Overlay */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\r\n        onClick={() => setIsCartOpen(false)}\r\n      />\r\n\r\n      {/* Drawer */}\r\n      <div className=\"fixed right-0 top-0 h-full w-full sm:w-[420px] bg-card border-l border-border z-50 flex flex-col animate-slide-in-right\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-border\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <ShoppingBag className=\"h-5 w-5 text-gold\" />\r\n            <h2 className=\"font-serif text-xl font-semibold\">Your Cart</h2>\r\n            {totalItems > 0 && (\r\n              <span className=\"bg-gold text-primary-foreground text-xs px-2 py-0.5 rounded-full\">\r\n                {totalItems}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={() => setIsCartOpen(false)}\r\n            className=\"p-2 hover:bg-muted rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-4\">\r\n          {items.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center h-full text-center py-12\">\r\n              <ShoppingBag className=\"h-16 w-16 text-muted-foreground/30 mb-4\" />\r\n              <p className=\"text-muted-foreground text-lg mb-2\">Your cart is empty</p>\r\n              <p className=\"text-muted-foreground text-sm mb-6\">\r\n                Discover our exclusive collection\r\n              </p>\r\n              <Button variant=\"goldOutline\" onClick={() => setIsCartOpen(false)}>\r\n                Continue Shopping\r\n              </Button>\r\n            </div>\r\n          ) : showCheckout ? (\r\n            <CheckoutForm onBack={() => setShowCheckout(false)} />\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {items.map((item) => (\r\n                <div\r\n                  key={item.id}\r\n                  className=\"glass-card rounded-lg p-4 flex gap-4\"\r\n                >\r\n                  <div className=\"h-20 w-20 bg-muted rounded-lg overflow-hidden flex-shrink-0\">\r\n                    <img\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      loading=\"lazy\"\r\n                      decoding=\"async\"\r\n                      className=\"h-full w-full object-cover\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <h3 className=\"font-serif font-medium text-foreground truncate\">\r\n                      {item.name}\r\n                    </h3>\r\n                    <p className=\"text-gold font-semibold\">${item.price}</p>\r\n                    <div className=\"flex items-center gap-2 mt-2\">\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n                      >\r\n                        <Minus className=\"h-3 w-3\" />\r\n                      </button>\r\n                      <span className=\"w-8 text-center font-medium\">\r\n                        {item.quantity}\r\n                      </span>\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                        className=\"h-8 w-8 rounded-lg border border-border flex items-center justify-center hover:bg-muted transition-colors\"\r\n                      >\r\n                        <Plus className=\"h-3 w-3\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => removeFromCart(item.id)}\r\n                        className=\"ml-auto p-2 text-muted-foreground hover:text-destructive transition-colors\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        {items.length > 0 && !showCheckout && (\r\n          <div className=\"border-t border-border p-4 space-y-4\">\r\n            <div className=\"flex items-center justify-between text-lg\">\r\n              <span className=\"text-muted-foreground\">Total</span>\r\n              <span className=\"font-serif font-bold text-gold\">${totalPrice}</span>\r\n            </div>\r\n            <Button\r\n              variant=\"gold\"\r\n              size=\"lg\"\r\n              className=\"w-full\"\r\n              onClick={() => setShowCheckout(true)}\r\n            >\r\n              Proceed to Checkout\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartDrawer;\r\n"
        }
    ]
}